[Rainmeter]
Update = 500

[Variables]
Brightness =

[Background]
Meter = Shape
Shape = Rectangle 0,0,500,120,10 | StrokeWidth 0

[CurrentBrightness]
Measure = plugin
Plugin = PowershellRM
Line  = $b = Get-Ciminstance -Namespace root/WMI -ClassName WmiMonitorBrightness
Line2 = $b.CurrentBrightness

[SetBrightness]
Measure = plugin
Plugin = PowershellRM
Line  = $m = Get-WmiObject -Namespace root/WMI -ClassName WmiMonitorBrightNessMethods
Line2 = $m.WmiSetBrightness(0, #Brightness#)
UpdateDivider = -1

[Title]
Meter = String
Text = Brightness
FontSize = 15
X = 20
Y = 20

[Bar]
Meter=Shape
Shape = Rectangle 20, 60, (460 * [CurrentBrightness] / 100), 5 | StrokeWidth 0 | Fill Color 7CF71E
DynamicVariables = 1

[LevelStyle]
FontSize = 12
H = 30
Y = 100
StringAlign = CenterBottom

[Level0]
Meter = String
MeterStyle = LevelStyle
Text = 0
StringAlign = LeftBottom
X = 20
LeftMouseUpAction = [!SetVariable Brightness 0][!CommandMeasure SetBrightness Update][!UpdateMeasure SetBrightness]

[Level25]
Meter = String
MeterStyle = LevelStyle
Text = 25
X = 135
LeftMouseUpAction = [!SetVariable Brightness 25][!CommandMeasure SetBrightness Update][!UpdateMeasure SetBrightness]

[Level50]
Meter = String
MeterStyle = LevelStyle
Text = 50
X = 250
LeftMouseUpAction = [!SetVariable Brightness 50][!CommandMeasure SetBrightness Update][!UpdateMeasure SetBrightness]

[Level75]
Meter = String
MeterStyle = LevelStyle
Text = 75
X = 365
LeftMouseUpAction = [!SetVariable Brightness 75][!CommandMeasure SetBrightness Update][!UpdateMeasure SetBrightness]

[Level100]
Meter = String
MeterStyle = LevelStyle
Text = 100
StringAlign = RightBottom
X = 480
LeftMouseUpAction = [!SetVariable Brightness 100][!CommandMeasure SetBrightness Update][!UpdateMeasure SetBrightness]
